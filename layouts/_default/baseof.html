<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G1VNDZRBTD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-G1VNDZRBTD');
  </script>
  <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
  <meta name="author" content="{{ .Site.Params.author }}">
  
  <!-- Open Graph -->
  <meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}">
  <meta property="og:description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
  <meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
  <meta property="og:url" content="{{ .Permalink }}">
  
  <!-- Google Fonts - Inter for modern look -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Crimson+Pro:ital,wght@0,400;0,600;1,400;1,600&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            serif: ['Crimson Pro', 'Georgia', 'serif'],
          },
          colors: {
            accent: '#de1e4c',
            'accent-dark': '#b91c3f',
          }
        }
      }
    }
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"/>
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml"/>
  
  <style>
    /* Custom font style for italic serif in header */
    .font-serif-italic {
      font-family: 'Crimson Pro', Georgia, serif;
      font-style: italic;
    }
    
    /* Smooth scrolling for the whole page */
    html {
      scroll-behavior: smooth;
    }
    
    /* Base body styles */
    body {
      background-color: #fdf6f0;
      font-family: 'Inter', system-ui, sans-serif;
    }
    
    /* Hover effects for social links */
    .social-link {
      transition: all 0.3s ease;
    }
    .social-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    /* Subtle animation for profile image */
    .profile-image {
      transition: all 0.5s ease;
    }
    .profile-image:hover {
      box-shadow: 0 15px 40px rgba(0,0,0,0.12);
      transform: scale(1.02);
    }
    
    /* Card hover effect */
    .card-hover {
      transition: all 0.3s ease;
      border-radius: 8px;
      padding: 12px;
      margin: -12px;
    }
    .card-hover:hover {
      background-color: rgba(222, 30, 76, 0.03);
      transform: translateX(4px);
    }
    
    /* Project item hover effect */
    .project-item {
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
      padding-left: 12px;
      margin-left: -12px;
    }
    .project-item:hover {
      border-left-color: #de1e4c;
      background-color: rgba(222, 30, 76, 0.02);
    }
    
    /* Section divider */
    .section-divider {
      height: 1px;
      background: linear-gradient(to right, transparent, #e5e7eb, transparent);
      margin: 2rem 0;
    }

    /* Blog post styles - IMPROVED */
    .blog-content {
      font-size: 1rem;
      line-height: 1.8;
      color: #1f2937;
    }
    .blog-content h2 {
      font-size: 1.75rem;
      font-weight: 700;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      color: #111827;
      font-family: 'Crimson Pro', Georgia, serif;
    }
    .blog-content h3 {
      font-size: 1.375rem;
      font-weight: 600;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
      color: #1f2937;
    }
    .blog-content p {
      margin-bottom: 1.25rem;
      line-height: 1.8;
    }
    .blog-content ul, .blog-content ol {
      margin-bottom: 1.25rem;
      padding-left: 1.5rem;
    }
    .blog-content li {
      margin-bottom: 0.5rem;
      line-height: 1.7;
    }
    .blog-content code {
      background-color: #f3f4f6;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.9em;
      color: #de1e4c;
    }
    .blog-content pre {
      background-color: #1e1e1e;
      border-radius: 8px;
      padding: 1.25rem;
      overflow-x: auto;
      margin: 1.5rem 0;
    }
    .blog-content pre code {
      background-color: transparent;
      padding: 0;
      color: #e5e7eb;
      font-size: 0.875rem;
    }
    .blog-content a {
      color: #de1e4c;
      text-decoration: underline;
      text-underline-offset: 2px;
    }
    .blog-content a:hover {
      color: #b91c3f;
    }
    .blog-content blockquote {
      border-left: 4px solid #de1e4c;
      padding-left: 1.25rem;
      margin: 1.5rem 0;
      color: #4b5563;
      font-style: italic;
      font-size: 1.1rem;
    }
    .blog-content img {
      border-radius: 8px;
      margin: 1.5rem 0;
    }
    .blog-content table {
      width: 100%;
      margin: 1.5rem 0;
      border-collapse: collapse;
    }
    .blog-content th, .blog-content td {
      padding: 0.75rem;
      border: 1px solid #e5e7eb;
      text-align: left;
    }
    .blog-content th {
      background-color: #f9fafb;
      font-weight: 600;
    }

    /* Mobile menu */
    .mobile-menu {
      display: none;
    }
    .mobile-menu.active {
      display: flex;
    }
    
    /* Hamburger animation */
    .hamburger span {
      transition: all 0.3s ease;
    }
    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }
    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }
    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(5px, -5px);
    }

    /* Link hover animation */
    .link-hover {
      position: relative;
    }
    .link-hover::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background-color: #de1e4c;
      transition: width 0.3s ease;
    }
    .link-hover:hover::after {
      width: 100%;
    }
  </style>
  {{ block "head" . }}{{ end }}
</head>
<body class="text-gray-800">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <header class="flex justify-between items-center py-5 border-b border-gray-200">
      <a href="/" class="font-serif-italic text-xl font-semibold hover:text-accent transition-colors">
        Munish Thakur
      </a>
      
      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8 text-sm">
        {{ range .Site.Menus.main }}
        {{ if eq .Name "Blog" }}
        <a class="font-semibold text-accent border-b-2 border-accent pb-1 hover:text-accent-dark transition-colors" href="{{ .URL }}">{{ .Name }}</a>
        {{ else }}
        <a class="font-medium text-gray-600 hover:text-gray-900 link-hover transition-colors" href="{{ .URL }}">{{ .Name }}</a>
        {{ end }}
        {{ end }}
      </nav>

      <!-- Mobile Hamburger -->
      <button class="md:hidden hamburger flex flex-col justify-center items-center w-8 h-8" onclick="toggleMobileMenu()">
        <span class="block w-5 h-0.5 bg-gray-800 mb-1"></span>
        <span class="block w-5 h-0.5 bg-gray-800 mb-1"></span>
        <span class="block w-5 h-0.5 bg-gray-800"></span>
      </button>
    </header>

    <!-- Mobile Navigation -->
    <nav class="mobile-menu md:hidden flex-col py-4 space-y-3 border-b border-gray-200" id="mobile-menu">
      {{ range .Site.Menus.main }}
      {{ if eq .Name "Blog" }}
      <a class="block font-semibold text-accent text-base py-2" href="{{ .URL }}">{{ .Name }}</a>
      {{ else }}
      <a class="block font-medium text-gray-600 hover:text-gray-900 text-base py-2" href="{{ .URL }}">{{ .Name }}</a>
      {{ end }}
      {{ end }}
    </nav>

    <!-- Main Content -->
    <main class="mt-10">
      {{ block "main" . }}{{ end }}
    </main>
  </div>

  <!-- Footer -->
  <footer class="py-8 border-t border-gray-200 text-sm text-gray-600 w-full mt-16" style="background-color: #fbe2e8;">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-4 md:mb-0">
          Â© {{ .Site.Params.author }}, {{ now.Year }} | DevOps Engineer
        </div>
        <div class="flex space-x-6">
          <a class="hover:text-accent transition-colors" href="{{ .Site.Params.github }}" target="_blank">GitHub</a>
          <a class="hover:text-accent transition-colors" href="{{ .Site.Params.linkedin }}" target="_blank">LinkedIn</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Floating Resume Button -->
  <div class="fixed bottom-6 right-6 z-50" id="floating-resume">
    <div class="group">
      <a href="{{ .Site.Params.resumePath }}" download class="bg-accent text-white p-3 rounded-full shadow-lg hover:bg-accent-dark transition-all duration-300 hover:scale-110 hover:shadow-xl flex items-center">
        <i class="fas fa-file-download text-lg"></i>
      </a>
      <div class="absolute right-full mr-3 top-1/2 -translate-y-1/2 bg-gray-900 text-white px-3 py-1.5 rounded-lg text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap flex items-center gap-2 shadow-lg">
        <i class="fas fa-download text-[10px]"></i>
        Download Resume
      </div>
    </div>
  </div>

  <script>
    // Mobile menu toggle
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      const hamburger = document.querySelector('.hamburger');
      menu.classList.toggle('active');
      hamburger.classList.toggle('active');
    }

    // Move floating button up when footer is in view
    function adjustFloatingButton() {
      const footer = document.querySelector('footer');
      const floating = document.getElementById('floating-resume');
      if (!footer || !floating) return;
      const footerRect = footer.getBoundingClientRect();
      const windowHeight = window.innerHeight;
      if (footerRect.top < windowHeight) {
        const overlap = windowHeight - footerRect.top + 24;
        floating.style.transform = `translateY(-${overlap}px)`;
      } else {
        floating.style.transform = '';
      }
    }
    window.addEventListener('scroll', adjustFloatingButton);
    window.addEventListener('resize', adjustFloatingButton);
    document.addEventListener('DOMContentLoaded', adjustFloatingButton);
  </script>
  {{ block "scripts" . }}{{ end }}
</body>
</html>
