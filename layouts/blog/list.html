{{ define "main" }}
<div class="max-w-4xl">
  <h1 class="font-serif-italic text-4xl font-semibold text-gray-900 leading-tight mb-2">
    Blog
    <span class="text-lg font-normal text-gray-400 ml-3">({{ len .Pages }} posts)</span>
  </h1>
  <p class="text-base text-gray-600 mb-10">
    Thoughts on DevOps, cloud infrastructure, Kubernetes, and engineering practices.
  </p>

  <!-- Tags filter -->
  {{ $allTags := slice }}
  {{ range .Pages }}
    {{ range .Params.tags }}
      {{ $allTags = $allTags | append . }}
    {{ end }}
  {{ end }}
  {{ $uniqueTags := uniq $allTags }}
  
  {{ if $uniqueTags }}
  <div class="mb-8 flex flex-wrap gap-2">
    {{ range $uniqueTags }}
    <a href="/tags/{{ . | urlize }}/" class="text-sm px-4 py-1.5 bg-gray-100 hover:bg-accent hover:text-white rounded-full transition-all font-medium text-gray-600">
      {{ . }}
    </a>
    {{ end }}
  </div>
  {{ end }}

  <!-- Blog posts list -->
  <div class="space-y-1">
    {{ range .Pages.ByDate.Reverse }}
    <a href="{{ .Permalink }}" class="flex items-baseline py-4 border-b border-gray-100 hover:bg-accent/5 transition-colors -mx-4 px-4 rounded-lg group">
      <span class="text-sm text-gray-400 w-28 flex-shrink-0">
        {{ .Date.Format "Jan 02, 2006" }}
      </span>
      <span class="text-base text-gray-800 group-hover:text-accent transition-colors font-medium flex-1">
        {{ .Title }}
      </span>
      <span class="text-gray-300 group-hover:text-accent group-hover:translate-x-1 transition-all ml-4">â†’</span>
    </a>
    {{ else }}
    <p class="text-gray-500">No blog posts yet. Check back soon!</p>
    {{ end }}
  </div>
</div>
{{ end }}
